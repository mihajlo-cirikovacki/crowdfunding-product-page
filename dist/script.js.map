{"version":3,"names":[],"mappings":"","sources":["script.js"],"sourcesContent":["'use strict';\r\n\r\nconst btnHeader = document.querySelector('.btn--header');\r\nconst bookmarkBtn = document.querySelector('.btn--bookmark');\r\nconst numberOfBacket = document.querySelector('.stats__number--of-backed');\r\nconst totalBacket = document.querySelector('.stats__number--total-backed');\r\nconst statSBarProgress = document.querySelector('.stats__bar-progress');\r\nconst featured = document.querySelector('.featured');\r\nconst modalSupp = document.querySelector('.section-support');\r\nconst overlay = document.querySelector('.overlay');\r\nconst closeModalBtn = document.querySelector('.section-support__close');\r\nconst inputContainer = document.querySelector('.stand__input-container');\r\nconst sectionSupport = document.querySelector('.section-support');\r\nconst suppStands = document.querySelector('.support__stands');\r\nconst overlay2 = document.querySelector('.overlay-2');\r\nconst messageContainer = document.querySelector('.message-container');\r\nconst hamburger = document.querySelector('.hamburger');\r\nconst overlayNav = document.querySelector('.overlay-nav-phone');\r\nconst phoneNav = document.querySelector('.nav-phone');\r\n\r\n// ======================= FUNCTIONS:\r\n\r\n// CLOSE MODAL:\r\nconst addCloseModal = function() {\r\n  modalSupp.classList.toggle('hidden');\r\n  overlay.classList.toggle('hidden');\r\n}\r\n\r\nconst addCloseThankYouMSG = function() {\r\n  messageContainer.classList.toggle('hidden-2');\r\n  overlay2.classList.toggle('hidden-2');\r\n  modalSupp.classList.add('hidden');\r\n  overlay.classList.add('hidden');\r\n}\r\n\r\nconst removeThankYouMsg = function() {\r\n  overlay2.classList.add('hidden-2');\r\n  messageContainer.classList.add('.hidden-2');\r\n  messageContainer.querySelector('.message').remove();\r\n}\r\n\r\nconst toggleHamburger = function() {\r\n  hamburger.classList.toggle('is-active');\r\n  phoneNav.classList.toggle('is-active');\r\n  overlayNav.classList.toggle('hidden');\r\n}\r\n\r\n\r\n// RENDER PLEDGE SUPPORT:\r\nconst renderPledgeSupp = function(e) {\r\n  const currWraper = e.target.closest('.stand-wraper');\r\n  if(!currWraper) return;\r\n  const standNumLeft = currWraper.querySelector('.stand__left-number');\r\n  const currStand = e.target.closest('.stand');\r\n  // Creating new pledge element:\r\n  const pledge = document.createElement('div');\r\n  pledge.classList.add('pledge');\r\n  currWraper.append(pledge);\r\n  \r\n  // NESTO INPUT ZEZA, DA PROVERIM.\r\n  const html = ` \r\n    <div class=\"pledge__input-wraper\">  \r\n      <input type=\"number\" value=\"${standNumLeft.textContent}\" min=\"${standNumLeft.textContent}\" class=\"pledge__input\">\r\n      <span>$</span>\r\n    </div>\r\n  `;\r\n\r\n  const html2 = `\r\n    <p class=\"pledge__descripton\">Enter your pledge</p>\r\n    <div class=\"pledge__form\">\r\n      ${standNumLeft && standNumLeft.textContent !== '0' ? html : ''}\r\n      <button class=\"pledge__btn\">Continue</button>\r\n    </div>\r\n  `;\r\n  \r\n  // Adding pledge element to the DOM.\r\n  pledge.insertAdjacentHTML('afterbegin', html2);\r\n  // Changing some styles:\r\n  currWraper.style.border = \"1px solid var(--dark-cyan)\";\r\n  currStand.style.borderRadius = '0';\r\n}\r\n\r\n// Render bookmarked styled button:\r\nconst bookmarked = function() {\r\n  const span = this.querySelector('span');\r\n  const svg = this.querySelector('svg');\r\n  const circle = svg.querySelector('circle');\r\n  const path = svg.querySelector('path');\r\n\r\n  if(span.textContent === 'Bookmark') {\r\n    span.textContent = 'Bookmarked';\r\n    span.style.color = 'var(--dark-cyan)';\r\n    this.style.backgroundColor = 'var(--light-cyan)';\r\n    circle.style.fill = 'var(--dark-cyan)';\r\n    path.style.fill = 'var(--white)';\r\n  } else {\r\n    span.textContent = 'Bookmark';\r\n    span.style.color = 'var(--dark-gray)';\r\n    this.style.backgroundColor = 'var(--background)';\r\n    circle.style.fill = 'var(--dark-gray)';\r\n    path.style.fill = 'var(--light-gray)';\r\n  }\r\n}\r\n\r\n// RENDER THANK YOU MESSAGE:\r\nconst renderThankYouMsg  = function() {\r\n  // Creating message element:\r\n  const message = document.createElement('div');\r\n  message.classList.add('message');\r\n  messageContainer.append(message);\r\n\r\n  const html = `\r\n    <img src=\"/images/icon-check.svg\" alt=\"Icon Check\" class=\"message__icon\">\r\n    <div class=\"message__container\">\r\n      <h2 class=\"message__heading\">Thanks for your support!</h2>\r\n      <p class=\"message__description\">\r\n        Your pledge brings us one step closer to sharing \r\n        Mastercraft Bamboo Monitor Riser worldwide. \r\n        You will get an email once our campaign is completed.\r\n      </p>\r\n      <button class=\"message__btn\">Got it!</button>\r\n    </div>\r\n  `;\r\n\r\n  message.insertAdjacentHTML('afterbegin', html);\r\n}\r\n\r\n\r\n// ======================= EVENT LISTENERS:\r\nbookmarkBtn.addEventListener('click', bookmarked);\r\n\r\nbtnHeader.addEventListener('click', addCloseModal);\r\n\r\nfeatured.addEventListener('click', (e) => {\r\n  const currButton = e.target.closest('.btn--reward');\r\n  if (!currButton) return;\r\n  const left = currButton.previousElementSibling;\r\n  const numLeft = left.querySelector('.featured__stand-left-num');\r\n  // Check if left number is 0:\r\n  if (numLeft.textContent !== '0') addCloseModal();\r\n});\r\n\r\ncloseModalBtn.addEventListener('click', (e) => {\r\n  const icon = e.target.closest('.section-support__close');\r\n  if(!icon) return;\r\n  addCloseModal();\r\n});\r\n\r\ndocument.addEventListener('keydown', (e) => {\r\n  if(e.key === 'Escape') {\r\n    modalSupp.classList.add('hidden');\r\n    overlay.classList.add('hidden');\r\n  }\r\n})\r\n\r\nsectionSupport.addEventListener('change', (e) => {\r\n  const currWraper = e.target.closest('.stand-wraper');\r\n  const currRadioBtn = currWraper.querySelector('.stand__radio-input');\r\n  if(!currRadioBtn) return;\r\n  const pledges = document.querySelectorAll('.pledge');\r\n\r\n  // Check if pladges exist, if extist delete them:\r\n  if (pledges) pledges.forEach(pledge => {\r\n    const standWraper = pledge.closest('.stand-wraper');\r\n    standWraper.style.border = 'none';\r\n    standWraper.querySelector('.stand').style.borderRadius = '.8rem';\r\n    pledge.remove();\r\n  });\r\n  // Render pledge:\r\n  renderPledgeSupp(e); \r\n});\r\n\r\n\r\n\r\nconst getSubmitPledge = function(pledge) {\r\n  const options = {\r\n    style: 'currency',\r\n    currency: 'USD',\r\n  };\r\n\r\n  let total = +totalBacket.textContent;\r\n  total++;\r\n  totalBacket.textContent = total + '';\r\n\r\n  let numOfBacket = +numberOfBacket.textContent;\r\n  const addPledge = numOfBacket + pledge;\r\n  // Format to $:\r\n  const convertDollars = new Intl.NumberFormat('en-Us', options).format(addPledge);\r\n  // Remover initial $ span:\r\n  numberOfBacket.previousElementSibling.remove();\r\n  numberOfBacket.textContent = convertDollars + '';\r\n}\r\n\r\n\r\nsuppStands.addEventListener('click', (e) => {\r\n  const currButton = e.target.closest('.pledge__btn');\r\n  if (!currButton) return;\r\n  const currWraper = e.target.closest('.stand-wraper');\r\n  const standNumLeft = currWraper.querySelector('.stand__left-number');\r\n  const pledgeInputValue = currWraper.querySelector('.pledge__input').value;\r\n  // Check for left number:\r\n  if (standNumLeft && standNumLeft.textContent === '0') return;\r\n  \r\n  addCloseThankYouMSG();\r\n  renderThankYouMsg();\r\n  // Get submit pledge:\r\n  getSubmitPledge(+pledgeInputValue);\r\n});\r\n\r\nmessageContainer.addEventListener('click', (e) => {\r\n  const button = e.target.closest('.message__btn');\r\n  if(!button) return;\r\n  removeThankYouMsg();\r\n});\r\n\r\ndocument.addEventListener('keydown', (e) => {\r\n  if(e.key === 'Escape') removeThankYouMsg();\r\n});\r\n\r\nhamburger.addEventListener('click', toggleHamburger);\r\n\r\nphoneNav.addEventListener('click', (e) => {\r\n  const currAnchor = e.target.closest('.nav-phone__link');\r\n  if(!currAnchor) return;\r\n  toggleHamburger();\r\n});\r\n\r\n\r\n\r\n"],"file":"script.js"}