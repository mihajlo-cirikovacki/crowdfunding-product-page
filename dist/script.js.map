{"version":3,"names":[],"mappings":"","sources":["script.js"],"sourcesContent":["'use strict';\r\n\r\nconst btnHeader = document.querySelector('.btn--header');\r\nconst bookmarkBtn = document.querySelector('.btn--bookmark');\r\nconst featured = document.querySelector('.featured');\r\nconst modalSupp = document.querySelector('.section-support');\r\nconst overlay = document.querySelector('.overlay');\r\nconst closeModalBtn = document.querySelector('.section-support__close');\r\nconst inputContainer = document.querySelector('.stand__input-container');\r\nconst suppStands = document.querySelector('.support__stands');\r\n\r\n// ======================= FUNCTIONS:\r\n\r\n// CLOSE MODAL:\r\nconst addCloseModal = function() {\r\n  modalSupp.classList.toggle('hidden');\r\n  overlay.classList.toggle('hidden');\r\n}\r\n\r\n// RENDER PLEDGE SUPPORT:\r\nconst renderPledgeSupp = function(e) {\r\n  const currWraper = e.target.closest('.stand-wraper');\r\n  if(!currWraper) return;\r\n  const standNumLeft = currWraper.querySelector('.stand__left-number');\r\n  const currStand = e.target.closest('.stand');\r\n  // Creating new pledge element:\r\n  const pledge = document.createElement('div');\r\n  pledge.classList.add('pledge');\r\n  currWraper.append(pledge);\r\n  \r\n  const html = `\r\n    <div class=\"pledge__input-wraper\">  \r\n      <input type=\"number\" value=\"25\" min=\"25\" class=\"pledge__input\">\r\n      <span>$</span>\r\n    </div>\r\n  `;\r\n\r\n  const html2 = `\r\n    <p class=\"pledge__descripton\">Enter your pledge</p>\r\n    <form class=\"pledge__form\">\r\n      ${standNumLeft && standNumLeft.textContent !== '0' ? html : ''}\r\n      <button class=\"pledge__btn\">Continue</button>\r\n    </form>\r\n  `;\r\n  \r\n  // Adding pledge element to the DOM.\r\n  pledge.insertAdjacentHTML('afterbegin', html2);\r\n  // Changing some styles:\r\n  currWraper.style.border = \"1px solid var(--dark-cyan)\";\r\n  currStand.style.borderRadius = '0';\r\n}\r\n\r\n// Render bookmarked styled button:\r\nconst bookmarked = function() {\r\n  const span = this.querySelector('span');\r\n  const img = this.querySelector('img');\r\n\r\n  if(span.textContent === 'Bookmark') {\r\n    span.textContent = 'Bookmarked';\r\n    span.style.color = 'var(--dark-cyan)';\r\n    this.style.backgroundColor = 'var(--light-cyan)';\r\n    img.style.filter = 'var(--filterSvgGreen)';\r\n  }else {\r\n    span.textContent = 'Bookmark';\r\n    span.style.color = 'var(--dark-gray)';\r\n    this.style.backgroundColor = 'var(--background)';\r\n    img.style.filter = 'var(--filterSvgGray)';\r\n  }\r\n}\r\n\r\n// ======================= EVENT LISTENERS:\r\nbookmarkBtn.addEventListener('click', bookmarked);\r\n\r\nbtnHeader.addEventListener('click', addCloseModal);\r\n\r\nfeatured.addEventListener('click', (e) => {\r\n  const currButton = e.target.closest('.btn--reward');\r\n  if (!currButton) return;\r\n  const left = currButton.previousElementSibling;\r\n  const numLeft = left.querySelector('.featured__stand-left-num');\r\n  // Check if left number is 0:\r\n  if (numLeft.textContent !== '0') addCloseModal();\r\n});\r\n\r\ncloseModalBtn.addEventListener('click', (e) => {\r\n  const icon = e.target.closest('.section-support__close');\r\n  if(!icon) return;\r\n  addCloseModal();\r\n});\r\n\r\ndocument.addEventListener('keydown', (e) => {\r\n  if(e.key === 'Escape') addCloseModal();\r\n})\r\n\r\nsuppStands.addEventListener('change', (e) => {\r\n  const currWraper = e.target.closest('.stand-wraper');\r\n  const currRadioBtn = currWraper.querySelector('.stand__radio-input');\r\n  if(!currRadioBtn) return;\r\n  const pledges = document.querySelectorAll('.pledge');\r\n\r\n  // Check if pladges exist, if extist delete them:\r\n  if (pledges) pledges.forEach(pledge => {\r\n    const standWraper = pledge.closest('.stand-wraper');\r\n    standWraper.style.border = 'none';\r\n    standWraper.querySelector('.stand').style.borderRadius = '.8rem';\r\n    pledge.remove();\r\n  });\r\n  // Render pledge:\r\n  renderPledgeSupp(e); \r\n});\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"file":"script.js"}